<div class="container mx-auto grid grid-cols-4 gap-4 items-start min-h-screen py-10">

    <div layout="column" id="sidecol" class="col-start-1 bg-white p-8 rounded shadow">
      <div layout flex>
        <div layout="column" layout-fill class="command-zone">
          <div class="network-info mb-4">
            <span class="text-2xl font-bold">{{filename}}</span>
            <br>
            {{nodesCount}} nodes -
            {{edgesCount}} edges
            <br>
            <em>{{description}}</em>
          </div>
          <hr class="">
          <div class="divide-y divide-light-blue-400">
            <div>
              <button
                ng-click="refreshGraph()"
                title="Reload"
                class="my-2 flex flex-row justify-start uppercase text-sm text-left"
              ><md-icon class="mr-2">refresh</md-icon> RELOAD ORIGINAL GRAPH</button>
            </div>
            <div>
              <button
                ng-click="downloadOutput()"
                title="Download"
                class="my-2 flex flex-row justify-start uppercase text-sm text-left"
              ><md-icon class="mr-2">save</md-icon> SAVE GEXF</button>
            </div>
            <div ng-if="status=='end'">
              <button
                ng-click="backToRecipe()"
                title="Edit"
                class="my-2 flex flex-row justify-start uppercase text-sm text-left"
              ><md-icon class="mr-2">arrow_back</md-icon> Return to recipe</button>
            </div>
            <div ng-if="status=='end' || status=='edit'">
              <button
                ng-click="closeRecipe()"
                title="Back to list"
                class="my-2 flex flex-row justify-start uppercase text-sm text-left"
              ><md-icon class="mr-2">menu</md-icon> Pick another recipe</button>
            </div>
                        
          </div>
        </div>
      </div>
    </div>

    <div layout layout-fill class="col-span-3 flex flex-col mb-12 bg-white p-8 rounded shadow" >
      <div layout="column" layout-fill class="fancy-text" ng-if="status=='list'">
        <div class="menu-container">
          <h1 class="text-2xl font-bold">Recipes</h1>

          <div layout="column" ng-repeat="r in recipes" class="my-4" ng-click="pickRecipe(r)">
            <h3 class="text-md font-semibold">{{r.name}}</h3>
            <p>{{r.desc}}</p>
          </div>

          <div flex></div>
        </div>
      </div>

      <div layout="column" layout-fill class="fancy-text" ng-if="status=='edit'">
        <div layout="row" ng-if="status=='edit'">
          <div layout="column" layout-padding flex>
            <h3 class="script-title">{{recipe.name}}</h3>
            {{recipe.desc}}
          </div>
          <div class="close-recipe">
            <md-button class="md-icon-button" aria-label="Close" ng-click="closeRecipe()">
              <md-icon>close</md-icon>
            </md-button>
          </div>
        </div>

        <div class="exec-button-row" ng-show="status=='edit'">
          <md-button
            ng-click="executeScript()"
            title="Execute recipe"
            class="md-raised"
          ><md-icon>play_arrow</md-icon> Execute recipe</md-button>
          <span class="shortcut-info">or hit [CTRL] + [ENTER] from the panel</span>
        </div>

        <!-- <div ng-show="status=='run'" flex layout="column" layout-align="center center">
          <h3 class="script-title">{{recipe.name}}</h3>
          is being processed<br><br><br>
        </div> -->

        <div js-editor file="settings.root+'/recipes/'+recipe.file" remind="remindRecipe" flex ng-if="status=='edit'"></div>
      </div>

      <div layout="column" layout-fill layout-padding ng-if="status=='run' || status=='end'" id="playground">
      </div>

    </div>

  </div>

</div>
